# Cade Code

ä¸€ä¸ªåŸºäº .NET çš„æ™ºèƒ½ AI åŠ©æ‰‹ CLI å·¥å…·ï¼Œæ”¯æŒå·¥å…·è°ƒç”¨ã€Markdown æ¸²æŸ“å’Œä¼˜é›…çš„äº¤äº’åŠ¨ç”»ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AI åŠ©æ‰‹
- **å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒé…ç½®å¤šä¸ª AI Provider å’Œæ¨¡å‹
- **å·¥å…·è°ƒç”¨** - AI å¯ä»¥è‡ªåŠ¨è°ƒç”¨ç³»ç»Ÿå·¥å…·ï¼ˆè¯»å–æ–‡ä»¶ã€è·å–æ—¶é—´ã€ç½‘ç»œä¿¡æ¯ç­‰ï¼‰
- **ä¸Šä¸‹æ–‡å¯¹è¯** - ä¿æŒå¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæ™ºèƒ½ç†è§£ç”¨æˆ·æ„å›¾

### ğŸ¨ ä¼˜é›…çš„ UI
- **Gemini é£æ ¼åŠ¨ç”»** - æµç•…çš„è„‰åŠ¨åŠ è½½æ•ˆæœ
  - æ€è€ƒåŠ¨ç”»ï¼šæ—‹è½¬è¿›åº¦æ¡
  - å›å¤åŠ¨ç”»ï¼šç«–å‘ç‚¹çš„å‘¼å¸æ•ˆæœï¼ˆâ‹® â†’ : â†’ Â· â†’ ç©ºï¼‰
- **Markdown æ¸²æŸ“** - å®Œæ•´æ”¯æŒ Markdown æ ¼å¼
  - ä»£ç å—ï¼šå¸¦è¾¹æ¡†çš„ Panel æ˜¾ç¤ºï¼Œæ”¯æŒè¯­è¨€æ ‡ç­¾
  - è¡Œå†…ä»£ç ï¼šé»„è‰²é«˜äº®
  - æ ‡é¢˜ã€åˆ—è¡¨ã€ç²—ä½“ã€æ–œä½“ç­‰
- **æ— å…‰æ ‡é—ªçƒ** - åŠ¨ç”»æœŸé—´è‡ªåŠ¨éšè—å…‰æ ‡

### ğŸ”§ å·¥å…·ç³»ç»Ÿ
å†…ç½®å¤šä¸ªå®ç”¨å·¥å…·ï¼ŒAI å¯ä»¥è‡ªåŠ¨è°ƒç”¨ï¼š
- **ReadFileTool** - è¯»å–æ–‡ä»¶å†…å®¹
- **WriteFileTool** - å†™å…¥æ–‡ä»¶
- **GetTimeTool** - è·å–ç³»ç»Ÿæ—¶é—´
- **GetNetworkInfoTool** - è·å–ç½‘ç»œä¿¡æ¯
- **ListDirectoryTool** - åˆ—å‡ºç›®å½•å†…å®¹

### ğŸ¯ äº¤äº’ä½“éªŒ
- **å®æ—¶è¾“å…¥** - éé˜»å¡å¼è¾“å…¥å¤„ç†
- **å·¥å…·æ—¥å¿—** - æ¸…æ™°å±•ç¤ºå·¥å…·è°ƒç”¨è¿‡ç¨‹
- **é”™è¯¯å¤„ç†** - å‹å¥½çš„é”™è¯¯æç¤º
- **å‘½ä»¤æ”¯æŒ** - `/help`, `/model`, `/exit` ç­‰å‘½ä»¤

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
Cade/
â”œâ”€â”€ Cade/                      # ä¸»é¡¹ç›®ï¼ˆCLI åº”ç”¨ï¼‰
â”‚   â”œâ”€â”€ Interfaces/            # æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ IAiService.cs      # AI æœåŠ¡æ¥å£
â”‚   â”‚   â””â”€â”€ IUserInterface.cs  # UI æ¥å£
â”‚   â”œâ”€â”€ Services/              # æœåŠ¡å®ç°
â”‚   â”‚   â”œâ”€â”€ ConsoleUserInterface.cs   # æ§åˆ¶å° UI
â”‚   â”‚   â”œâ”€â”€ ProductionAiService.cs    # AI æœåŠ¡å®ç°
â”‚   â”‚   â””â”€â”€ MarkdownRenderer.cs       # Markdown æ¸²æŸ“å™¨
â”‚   â”œâ”€â”€ ViewModels/            # MVVM ViewModel
â”‚   â”‚   â””â”€â”€ MainViewModel.cs
â”‚   â”œâ”€â”€ CadeHostedService.cs   # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ Program.cs             # å¯åŠ¨é…ç½®
â”‚
â”œâ”€â”€ Cade.Tool/                 # å·¥å…·ç³»ç»Ÿ
â”‚   â”œâ”€â”€ ITool.cs               # å·¥å…·æ¥å£
â”‚   â”œâ”€â”€ ToolBase.cs            # å·¥å…·åŸºç±»
â”‚   â”œâ”€â”€ ToolManager.cs         # å·¥å…·ç®¡ç†å™¨
â”‚   â””â”€â”€ Tools/                 # å…·ä½“å·¥å…·å®ç°
â”‚       â”œâ”€â”€ ReadFileTool.cs
â”‚       â”œâ”€â”€ WriteFileTool.cs
â”‚       â”œâ”€â”€ GetTimeTool.cs
â”‚       â”œâ”€â”€ GetNetworkInfoTool.cs
â”‚       â””â”€â”€ ListDirectoryTool.cs
â”‚
â””â”€â”€ Cade.Provider/             # AI Provider æŠ½è±¡å±‚
    â””â”€â”€ Services/              # Provider æœåŠ¡
```

## ğŸš€ æŠ€æœ¯æ ˆ

- **.NET 10** - æ ¸å¿ƒæ¡†æ¶
- **C# 12** - ç¼–ç¨‹è¯­è¨€
- **Spectre.Console** - ç»ˆç«¯ UI æ¡†æ¶
- **CommunityToolkit.Mvvm** - MVVM æ¡†æ¶
- **Microsoft.Extensions.Hosting** - Generic Host
- **Microsoft.Extensions.DependencyInjection** - ä¾èµ–æ³¨å…¥
- **Microsoft.Extensions.AI** - AI æŠ½è±¡å±‚

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- [.NET 10 SDK](https://dotnet.microsoft.com/download/dotnet/10.0)

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone <repository-url>
cd Cade

# è¿˜åŸä¾èµ–
dotnet restore

# ç¼–è¯‘é¡¹ç›®
dotnet build
```

### è¿è¡Œ

```bash
dotnet run --project Cade/Cade.csproj
```

## ğŸ® ä½¿ç”¨æŒ‡å—

### å¯åŠ¨ç•Œé¢

```
  ____          _         ____          _
 / ___|__ _  __| | ___   / ___|___   __| | ___
| |   / _` |/ _` |/ _ \ | |   / _ \ / _` |/ _ \
| |__| (_| | (_| |  __/ | |__| (_) | (_| |  __/
 \____\__,_|\__,_|\___|  \____\___/ \__,_|\___|

Tips for getting started:
  1. Ask questions, edit files, or run commands.
  2. Be specific for the best results.
  3. /help for more information.

>>
```

### åŸºæœ¬ä½¿ç”¨

**æé—®ç¤ºä¾‹**ï¼š
```
>> å¸®æˆ‘è¯»å–å½“å‰ç›®å½•çš„æ–‡ä»¶åˆ—è¡¨
```

**AI å›å¤æµç¨‹**ï¼š
1. åº•éƒ¨æ˜¾ç¤ºæ€è€ƒåŠ¨ç”»ï¼š`[[===]] æ­£åœ¨æ€è€ƒ...`
2. AI è°ƒç”¨å·¥å…·ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š
   ```
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
   â”ƒ ğŸ”¨ list_directory    â”ƒ
   â”ƒ ç›®å½•: C:\Projects    â”ƒ
   â”ƒ ã€æ–‡ä»¶ã€‘:            â”ƒ
   â”ƒ   ğŸ“„ README.md       â”ƒ
   â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
   ```
3. æ˜¾ç¤ºå›å¤åŠ¨ç”»ï¼š`â‹®  æ­£åœ¨ç”Ÿæˆå›å¤...`ï¼ˆè„‰åŠ¨æ•ˆæœï¼‰
4. æ˜¾ç¤ºå®Œæ•´å›å¤ï¼ˆMarkdown æ ¼å¼ï¼‰

### å¯ç”¨å‘½ä»¤

- `/help` - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
- `/model` - åˆ‡æ¢ AI æ¨¡å‹
- `/exit` æˆ– `/quit` - é€€å‡ºç¨‹åº

### å·¥å…·è°ƒç”¨ç¤ºä¾‹

AI ä¼šæ ¹æ®ä½ çš„é—®é¢˜è‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„å·¥å…·ï¼š

**è¯»å–æ–‡ä»¶**ï¼š
```
>> å¸®æˆ‘è¯»å– README.md æ–‡ä»¶
```
AI è‡ªåŠ¨è°ƒç”¨ `read_file` å·¥å…·

**è·å–æ—¶é—´**ï¼š
```
>> ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ
```
AI è‡ªåŠ¨è°ƒç”¨ `get_time` å·¥å…·

**åˆ—å‡ºç›®å½•**ï¼š
```
>> å½“å‰ç›®å½•æœ‰å“ªäº›æ–‡ä»¶ï¼Ÿ
```
AI è‡ªåŠ¨è°ƒç”¨ `list_directory` å·¥å…·

## ğŸ¨ åŠ¨ç”»æ•ˆæœè¯¦è§£

### æ€è€ƒåŠ¨ç”»
ä½ç½®ï¼šåº•éƒ¨çŠ¶æ€æ 
æ•ˆæœï¼šæ—‹è½¬è¿›åº¦æ¡
```
[[   ]] â†’ [[=  ]] â†’ [[== ]] â†’ [[===]] â†’ [[ ==]] â†’ [[  =]]
```
é¢‘ç‡ï¼š100ms/å¸§

### å›å¤åŠ¨ç”»ï¼ˆGemini é£æ ¼ï¼‰
ä½ç½®ï¼šå†å²æ¶ˆæ¯åŒºåŸŸ
æ•ˆæœï¼šç«–å‘ç‚¹çš„è„‰åŠ¨å‘¼å¸
```
 ç©º  â†’ Â· â†’ : â†’ â‹® â†’ : â†’ Â· â†’ ç©º ï¼ˆå¾ªç¯ï¼‰
```
é¢‘ç‡ï¼š150ms/å¸§
æŒç»­ï¼š1.5 ç§’

### ä»£ç æ¸²æŸ“

**ä»£ç å—**ï¼š
```
â•­â”€ csharp â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ var tool = new ReadFileTool();â”‚
â”‚ var result = await tool...   â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**è¡Œå†…ä»£ç **ï¼š
ä½¿ç”¨ `dotnet build` å‘½ä»¤ï¼ˆé»„è‰²é«˜äº®èƒŒæ™¯ï¼‰

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. åœ¨ `Cade.Tool/Tools/` åˆ›å»ºæ–°å·¥å…·ç±»ï¼š

```csharp
public class MyTool : ToolBase
{
    public override string Name => "my_tool";
    public override string Description => "æˆ‘çš„å·¥å…·æè¿°";

    public override Task<ToolResult> ExecuteAsync(string parameters)
    {
        return SafeExecuteAsync(async () =>
        {
            // å·¥å…·é€»è¾‘
            return ToolResult.CreateSuccess("æ‰§è¡ŒæˆåŠŸ");
        });
    }
}
```

2. åœ¨ `ToolExtensions.cs` ä¸­æ³¨å†Œï¼š

```csharp
public static void RegisterDefaultTools(this ToolManager manager)
{
    manager.RegisterTool(new MyTool());
    // ... å…¶ä»–å·¥å…·
}
```

### é…ç½® AI Provider

ç¼–è¾‘ `appsettings.json`ï¼š

```json
{
  "AppSettings": {
    "CurrentProviderConfig": "default",
    "CurrentModelId": "your-model-id",
    "Theme": "Dark"
  }
}
```

### é¡¹ç›®ç¼–è¯‘

```bash
# æ¸…ç†
dotnet clean

# è¿˜åŸä¾èµ–
dotnet restore

# ç¼–è¯‘
dotnet build

# è¿è¡Œ
dotnet run --project Cade/Cade.csproj
```

## ğŸ“Š å·¥å…·è°ƒç”¨æµç¨‹

```
ç”¨æˆ·æé—®
  â†“
AI åˆ†æï¼ˆåˆ¤æ–­æ˜¯å¦éœ€è¦å·¥å…·ï¼‰
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éœ€è¦å·¥å…·ï¼Ÿ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”œâ”€ Yes â†’ è°ƒç”¨å·¥å…· â†’ è·å–ç»“æœ â†’ AI åŸºäºç»“æœç”Ÿæˆå›å¤
  â””â”€ No  â†’ ç›´æ¥ç”Ÿæˆå›å¤
  â†“
æ˜¾ç¤ºå®Œæ•´å›å¤
```

AI æœ€å¤šå¯ä»¥è¿›è¡Œ 5 è½®å·¥å…·è°ƒç”¨ï¼Œç¡®ä¿å¤æ‚ä»»åŠ¡çš„å®Œæˆã€‚

## ğŸ¯ ç‰¹è‰²åŠŸèƒ½

### è‡ªåŠ¨æ€»ç»“æå–
AI å›å¤æ—¶ï¼Œä¼šè‡ªåŠ¨æå–ç¬¬ä¸€å¥è¯ä½œä¸ºæ€»ç»“ï¼Œæ˜¾ç¤ºåœ¨åŠ¨ç”»å¤´éƒ¨ï¼š
- ç§»é™¤ Markdown æ ‡è®°
- æå–ç¬¬ä¸€å¥è¯
- é™åˆ¶ 60 ä¸ªå­—ç¬¦
- è¶…å‡ºæ˜¾ç¤º "..."

### æ™ºèƒ½å…‰æ ‡ç®¡ç†
- åŠ¨ç”»æ’­æ”¾æ—¶ï¼šè‡ªåŠ¨éšè—å…‰æ ‡
- ç­‰å¾…è¾“å…¥æ—¶ï¼šæ˜¾ç¤ºå…‰æ ‡
- æ— é—ªçƒå¹²æ‰°

### Markdown å®Œæ•´æ”¯æŒ
- âœ… æ ‡é¢˜ï¼ˆ# ## ### ####ï¼‰
- âœ… ç²—ä½“ï¼ˆ**text**ï¼‰
- âœ… æ–œä½“ï¼ˆ*text*ï¼‰
- âœ… ä»£ç å—ï¼ˆ```code```ï¼‰
- âœ… è¡Œå†…ä»£ç ï¼ˆ`code`ï¼‰
- âœ… åˆ—è¡¨ï¼ˆæœ‰åº/æ— åºï¼‰
- âœ… é“¾æ¥ï¼ˆ[text](url)ï¼‰

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [AI å›å¤åŠ¨ç”»è¯´æ˜](./AIå›å¤åŠ¨ç”»è¯´æ˜.md)
- [ä»£ç æ¸²æŸ“æ”¹è¿›è¯´æ˜](./ä»£ç æ¸²æŸ“æ”¹è¿›è¯´æ˜.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Spectre.Console](https://spectreconsole.net/) - ä¼˜ç§€çš„ç»ˆç«¯ UI æ¡†æ¶
- [CommunityToolkit.Mvvm](https://github.com/CommunityToolkit/dotnet) - MVVM å·¥å…·åŒ…
- Gemini - åŠ¨ç”»è®¾è®¡çµæ„Ÿæ¥æº

---

**Enjoy coding with Cade! ğŸš€**
