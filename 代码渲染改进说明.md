# ä»£ç æ¸²æŸ“æ•ˆæœæ”¹è¿›è¯´æ˜

## âœ¨ æ”¹è¿›å†…å®¹

### 1. ä»£ç å—æ¸²æŸ“ï¼ˆ```code```ï¼‰

**ä¹‹å‰**:
```
[grey on black]ä»£ç å†…å®¹[/]  â† ç®€å•çš„ç°åº•é»‘å­—ï¼Œæ²¡æœ‰è¾¹æ¡†
```

**ç°åœ¨**:
```
â•­â”€ csharp â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ var result = ...      â”‚
â”‚ return result;        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

**ç‰¹ç‚¹**:
- âœ… åœ†è§’è¾¹æ¡† (BoxBorder.Rounded)
- âœ… ç°è‰²è¾¹æ¡†çº¿
- âœ… é¡¶éƒ¨æ˜¾ç¤ºè¯­è¨€æ ‡ç­¾ï¼ˆå¦‚ `csharp`, `python` ç­‰ï¼‰
- âœ… åˆé€‚çš„å†…è¾¹è·ï¼Œä»£ç ä¸ä¼šè´´è¾¹
- âœ… ä¿ç•™ä»£ç çš„åŸå§‹æ ¼å¼å’Œç¼©è¿›

### 2. è¡Œå†…ä»£ç æ¸²æŸ“ï¼ˆ`code`ï¼‰

**ä¹‹å‰**:
```
[grey on black]code[/]  â† ç°åº•é»‘å­—
```

**ç°åœ¨**:
```
[yellow on grey15]code[/]  â† é»„è‰²æ–‡å­— + æ·±ç°èƒŒæ™¯
```

**ç‰¹ç‚¹**:
- âœ… æ›´é†’ç›®çš„é¢œè‰²å¯¹æ¯”ï¼ˆé»„è‰² vs æ·±ç°ï¼‰
- âœ… åœ¨æ–‡æœ¬ä¸­æ›´å®¹æ˜“è¯†åˆ«

### 3. å…¶ä»– Markdown å…ƒç´ ä¼˜åŒ–

**æ ‡é¢˜**:
- `#` â†’ [bold green]æ ‡é¢˜[/]
- `##` â†’ [bold cyan]æ ‡é¢˜[/]
- `###` â†’ [bold blue]æ ‡é¢˜[/]
- `####` â†’ [bold white]æ ‡é¢˜[/]

**åˆ—è¡¨**:
- æ— åºåˆ—è¡¨ï¼š`- é¡¹ç›®` â†’ `  â€¢ é¡¹ç›®` ï¼ˆç°è‰²åœ†ç‚¹ï¼‰
- æœ‰åºåˆ—è¡¨ï¼š`1. é¡¹ç›®` â†’ `  1. é¡¹ç›®` ï¼ˆç°è‰²ç¼–å·ï¼‰

**æ–‡æœ¬æ ·å¼**:
- ç²—ä½“ï¼š`**text**` â†’ [bold]text[/]
- æ–œä½“ï¼š`*text*` â†’ [italic]text[/]
- é“¾æ¥ï¼š`[text](url)` â†’ [link]text[/] [dim](url)[/]

## ğŸ“Š æ¸²æŸ“ç¤ºä¾‹

### ç¤ºä¾‹ 1: å¸¦ä»£ç å—çš„å›å¤

**Markdown è¾“å…¥**:
```markdown
æˆ‘å·²ç»å¸®ä½ åˆ›å»ºäº†ä¸€ä¸ªå·¥å…·ï¼š

## ReadFileTool ç±»

è¿™ä¸ªå·¥å…·å¯ä»¥ï¼š
- è¯»å–æ–‡ä»¶å†…å®¹
- éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨

ä½¿ç”¨ç¤ºä¾‹ï¼š

```csharp
var tool = new ReadFileTool();
var result = await tool.ExecuteAsync("{\"FilePath\":\"test.txt\"}");
Console.WriteLine(result.Content);
```

å…¶ä¸­ `FilePath` æ˜¯å¿…éœ€å‚æ•°ã€‚
```

**æ¸²æŸ“æ•ˆæœ**:
```
æˆ‘å·²ç»å¸®ä½ åˆ›å»ºäº†ä¸€ä¸ªå·¥å…·ï¼š

ReadFileTool ç±»

è¿™ä¸ªå·¥å…·å¯ä»¥ï¼š
  â€¢ è¯»å–æ–‡ä»¶å†…å®¹
  â€¢ éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨

ä½¿ç”¨ç¤ºä¾‹ï¼š

â•­â”€ csharp â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ var tool = new ReadFileTool();                          â”‚
â”‚ var result = await tool.ExecuteAsync("{\"FilePath\":\"test.txt\"}"); â”‚
â”‚ Console.WriteLine(result.Content);                      â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

å…¶ä¸­ FilePath æ˜¯å¿…éœ€å‚æ•°ã€‚
```

### ç¤ºä¾‹ 2: æ··åˆå†…å®¹

**Markdown è¾“å…¥**:
```markdown
ä½ å¯ä»¥ä½¿ç”¨ `dotnet build` å‘½ä»¤æ¥ç¼–è¯‘é¡¹ç›®ã€‚

### å®Œæ•´æµç¨‹

1. æ¸…ç†é¡¹ç›®ï¼š
```bash
dotnet clean
```

2. è¿˜åŸä¾èµ–ï¼š
```bash
dotnet restore
```

3. ç¼–è¯‘é¡¹ç›®ï¼š
```bash
dotnet build
```
```

**æ¸²æŸ“æ•ˆæœ**:
```
ä½ å¯ä»¥ä½¿ç”¨ dotnet build å‘½ä»¤æ¥ç¼–è¯‘é¡¹ç›®ã€‚
                 â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘
            ï¼ˆé»„è‰²èƒŒæ™¯é«˜äº®ï¼‰

å®Œæ•´æµç¨‹

  1. æ¸…ç†é¡¹ç›®ï¼š

â•­â”€ bash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ dotnet clean       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  2. è¿˜åŸä¾èµ–ï¼š

â•­â”€ bash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ dotnet restore     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

  3. ç¼–è¯‘é¡¹ç›®ï¼š

â•­â”€ bash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ dotnet build       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## ğŸ¨ æŠ€æœ¯å®ç°

### æ¶æ„å˜åŒ–

**ä¹‹å‰**:
- ä¸€æ¬¡æ€§å°†æ•´ä¸ª Markdown è½¬æ¢ä¸º Markup å­—ç¬¦ä¸²
- æ‰€æœ‰å…ƒç´ éƒ½æ··åœ¨ä¸€èµ·
- ä»£ç å—åªèƒ½ç”¨ç®€å•çš„èƒŒæ™¯è‰²

**ç°åœ¨**:
- å…ˆæ‹†åˆ† Markdown ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼ˆæ–‡æœ¬ + ä»£ç å—ï¼‰
- ä»£ç å—ä½¿ç”¨ Panel ç»„ä»¶å•ç‹¬æ¸²æŸ“
- æ™®é€šæ–‡æœ¬è½¬æ¢ä¸º Markup
- æœ€åç»„åˆæ‰€æœ‰å¯æ¸²æŸ“å…ƒç´ 

### æ ¸å¿ƒç±»

**MarkdownContent**:
```csharp
public class MarkdownContent
{
    public List<IRenderable> Elements { get; set; } = new();
}
```
- åŒ…å«å¤šä¸ªå¯æ¸²æŸ“å…ƒç´ ï¼ˆMarkupã€Panel ç­‰ï¼‰

**MarkdownRenderer.Parse()**:
- è¾“å…¥ï¼šMarkdown å­—ç¬¦ä¸²
- è¾“å‡ºï¼šMarkdownContentï¼ˆåŒ…å«å¤šä¸ª IRenderableï¼‰
- æµç¨‹ï¼šæ‹†åˆ† â†’ è½¬æ¢ â†’ ç»„åˆ

### æ¸²æŸ“æµç¨‹

```
Markdown å­—ç¬¦ä¸²
    â†“
SplitCodeBlocks() - æ‹†åˆ†ä¸ºæ–‡æœ¬å’Œä»£ç å—
    â†“
foreach æ¯ä¸ªéƒ¨åˆ†:
  - IsCodeBlock?
    â†’ Yes: CreateCodeBlockPanel() â†’ Panel
    â†’ No:  ConvertToMarkup() â†’ Markup
    â†“
MarkdownContent.Elements[]
    â†“
ShowResponse() - é€ä¸ªæ¸²æŸ“
    â†“
æ˜¾ç¤ºåœ¨æ§åˆ¶å°
```

## ğŸ”§ é…ç½®

### ä»£ç å—æ ·å¼

å¯ä»¥åœ¨ `CreateCodeBlockPanel()` ä¸­ä¿®æ”¹ï¼š
- **è¾¹æ¡†æ ·å¼**: `BoxBorder.Rounded` â†’ å¯æ”¹ä¸º `BoxBorder.Square`, `BoxBorder.Heavy` ç­‰
- **è¾¹æ¡†é¢œè‰²**: `Color.Grey` â†’ å¯æ”¹ä¸ºå…¶ä»–é¢œè‰²
- **å†…è¾¹è·**: `Padding(1, 0, 1, 0)` â†’ å·¦å³å„ 1 ä¸ªç©ºæ ¼

### è¡Œå†…ä»£ç æ ·å¼

å¯ä»¥åœ¨ `ConvertToMarkup()` ä¸­ä¿®æ”¹ï¼š
- **é¢œè‰²**: `[yellow on grey15]` â†’ å¯æ”¹ä¸º `[cyan on black]`, `[green on grey11]` ç­‰

## ğŸ“‚ ä»£ç ä½ç½®

- **æ¸²æŸ“å™¨**: `Cade\Services\MarkdownRenderer.cs`
- **UI è°ƒç”¨**: `Cade\Services\ConsoleUserInterface.cs:326-353`
- **MarkdownContent ç±»**: `Cade\Services\MarkdownRenderer.cs:10-13`

## ğŸš€ æµ‹è¯•

é‡æ–°ç¼–è¯‘è¿è¡Œå³å¯çœ‹åˆ°æ–°æ•ˆæœï¼š

```bash
dotnet build Cade/Cade.csproj
dotnet run --project Cade/Cade.csproj
```

å°è¯•è®© AI å›å¤åŒ…å«ä»£ç å—çš„å†…å®¹ï¼Œä½ ä¼šçœ‹åˆ°æ¼‚äº®çš„ä»£ç æ¡†ï¼
