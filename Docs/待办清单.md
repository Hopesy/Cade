# 待办清单

> 本文档记录 Cade 项目的待办事项、优先级和进度

**最后更新**: 2025-12-07 10:00

---

## 🔥 高优先级（紧急重要）

- [ ] 修复 Windows 下 MCP Server 连接问题
  - 截止日期: 2025-12-10
  - 描述: 某些 MCP Server (如 filesystem) 在 Windows 下无法正常连接
  - 相关需求: REQ-003
  - 负责人: -

---

## 📌 中优先级（重要不紧急）

- [ ] 实现对话历史持久化
  - 截止日期: 2025-12-15
  - 描述: 将对话历史保存到 `~/.cade/history/` 目录，支持会话恢复
  - 相关需求: REQ-005
  - 技术方案:
    - 使用 JSON 格式存储对话历史
    - 每个会话一个文件（按时间戳命名）
    - 添加 `/history` 命令查看历史会话
    - 添加 `/resume <session-id>` 命令恢复会话

- [ ] 实现流式响应支持
  - 截止日期: 2025-12-20
  - 描述: AI 回复时实时显示生成的文本，提升交互体验
  - 相关需求: REQ-006
  - 技术方案:
    - 修改 `ProductionAiService.GetStreamingResponseAsync()`
    - 在 `ConsoleUserInterface` 中实现流式 Markdown 渲染
    - 处理工具调用时的流式显示

- [ ] 添加单元测试
  - 截止日期: 2025-12-25
  - 描述: 为核心模块添加单元测试，提升代码质量
  - 相关需求: REQ-008
  - 测试范围:
    - `ProviderService` 测试
    - `FileSystemPlugin` 测试
    - `McpBridge` 测试
    - `MainViewModel` 测试

---

## 💡 低优先级（可延后）

- [ ] 添加配置管理命令
  - 截止日期: 2025-12-30
  - 描述: 提供 `/config` 命令管理配置文件
  - 相关需求: REQ-007
  - 功能清单:
    - `/config list` - 列出所有配置
    - `/config set <key> <value>` - 设置配置
    - `/config provider add` - 添加新 Provider
    - `/config mcp add` - 添加新 MCP Server

- [ ] 优化长文本响应的 UI 性能
  - 截止日期: 2026-01-05
  - 描述: 当 AI 回复超过 1000 行时，滚动性能下降
  - 相关问题: BUG-001
  - 技术方案:
    - 使用虚拟滚动技术
    - 限制历史消息显示数量
    - 优化 Markdown 渲染性能

- [ ] 支持多语言国际化
  - 截止日期: 2026-01-15
  - 描述: 支持英文、中文等多语言界面
  - 技术方案:
    - 使用资源文件管理多语言字符串
    - 添加 `/lang` 命令切换语言

---

## 🔄 进行中

- [x] 创建项目文档 (进度: 100%)
  - 开始日期: 2025-12-07
  - 预计完成: 2025-12-07
  - 当前工作: 已完成 CLAUDE.md、需求文档、项目状态、待办清单
  - 负责人: Claude Code

---

## ✅ 最近完成

- [x] 实现核心 AI 服务 (完成于 2025-12-06)
  - 耗时: 5天
  - 说明: 完成 Semantic Kernel 集成、多 Provider 支持、工具调用

- [x] 实现终端 UI (完成于 2025-12-06)
  - 耗时: 4天
  - 说明: 基于 Spectre.Console 的三区域 UI、Markdown 渲染、任务取消

- [x] 实现 MCP 协议支持 (完成于 2025-12-06)
  - 耗时: 4天
  - 说明: McpBridge、McpLoaderService、自动工具注册

- [x] 配置 NuGet 全局工具 (完成于 2025-12-06)
  - 耗时: 1天
  - 说明: 配置 csproj、测试打包和安装流程

---

## 📋 待分类事项

- [ ] 研究 Claude Desktop 的 Prompt Caching 功能
  - 说明: 评估是否可以集成到 Cade 中降低 API 成本

- [ ] 调研其他终端 AI 助手的最佳实践
  - 说明: 学习 Aider、Cursor 等工具的交互设计

---

## 📝 任务模板

```markdown
- [ ] 任务标题
  - 截止日期: YYYY-MM-DD
  - 描述: 详细描述任务内容
  - 相关需求/问题: REQ-XXX / BUG-XXX
  - 优先级: 高/中/低
  - 负责人: -
  - 技术方案:
    - 方案要点 1
    - 方案要点 2
```

---

## 📌 备注

- 高优先级任务应在 3 天内完成
- 中优先级任务应在 2 周内完成
- 低优先级任务可根据实际情况延后
- 每周至少更新一次待办清单
